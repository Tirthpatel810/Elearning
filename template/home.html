{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>eLearning App - Home</title>
        <link rel="stylesheet" href="{% static 'styles.css' %}">
        <style>
            /* Footer Styles */
            .footer {
                background-color: #2d2d2d;
                color: #fff;
                padding: 40px 0;
                text-align: center;
                margin-top: 50px;
            }
    
            .footer-container {
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
                padding: 0 10%;
            }
    
            .footer-section {
                width: 30%;
                margin-bottom: 20px;
            }
    
            .footer-section h4 {
                font-size: 1.5em;
                margin-bottom: 15px;
            }
    
            .footer-section ul {
                list-style: none;
                padding: 0;
            }
    
            .footer-section ul li {
                margin-bottom: 10px;
            }
    
            .footer-section ul li a {
                color: #ccc;
                text-decoration: none;
                font-size: 1em;
            }
    
            .footer-section ul li a:hover {
                color: #fff;
                text-decoration: underline;
            }
    
            .social-media {
                display: flex;
                justify-content: center;
                padding: 0;
            }
    
            .social-media li {
                margin: 0 10px;
            }
    
            .social-media li a img {
                width: 30px;
                height: 30px;
                transition: transform 0.3s ease;
            }
    
            .social-media li a:hover img {
                transform: scale(1.1);
            }
    
            .footer-section p {
                font-size: 1em;
                margin: 5px 0;
                color: #ccc;
            }
    
            .footer-bottom {
                padding: 20px 0;
                background-color: #1a1a1a;
                font-size: 0.9em;
                color: #999;
            }
    
            .footer-bottom p {
                margin: 0;
            }
    
            .footer-bottom p a {
                color: #999;
                text-decoration: none;
            }
    
            .footer-bottom p a:hover {
                color: #fff;
            }
    
            /* Paragraph Styling */
            p {
                font-size: 1.1em;
                line-height: 1.8em;
                color: #333;
                margin: 20px 0;
                max-width: 800px;
                text-align: center;
                font-family: 'Roboto', sans-serif;
            }
    
            /* Profile Modal Styles */
            .modal {
                display: none;
                position: fixed;
                z-index: 1000;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                justify-content: center;
                align-items: center;
            }
    
            .modal-content {
                background-color: white;
                padding: 20px;
                border-radius: 5px;
                text-align: center;
                width: 400px;
            }
    
            .modal h3 {
                margin-bottom: 20px;
            }
    
            .close-btn {
                background-color: #ff0000;
                color: white;
                border: none;
                padding: 10px 20px;
                cursor: pointer;
                border-radius: 5px;
                margin-top: 20px;
            }
    
            .close-btn:hover {
                background-color: #d00000;
            }
    
            /* Responsive Design */
            @media (max-width: 768px) {
                .footer-container {
                    flex-direction: column;
                    align-items: center;
                }
    
                .footer-section {
                    width: 100%;
                    text-align: center;
                }
            }
    
        </style>
    </head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-logo">
            <a href="#">ELearning</a>
        </div>
        <ul class="navbar-links">
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'course_list' %}">Courses</a></li>
            <li><a href="{% url 'my_courses' %}">My Courses</a></li>
        </ul>
        <div class="navbar-search">
            <input type="text" placeholder="Search Courses...">
            <button type="button">Search</button>
        </div>
        <div class="navbar-auth">
            {% if request.session.email %}
                <button id="seeProfileBtn" class="btn">See Profile</button>
                <a href="{% url 'logout' %}" class="btn btn-logout" onclick="return confirm('Are you sure you want to logout?');">Logout</a>
            {% else %}
                <a href="{% url 'login' %}" class="btn">Login</a>
                <a href="{% url 'register' %}" class="btn btn-register">Register</a>
            {% endif %}
        </div>
    </nav>

    <!-- Home Page Content -->
    <section class="home-content">
        <center><p>
            We are dedicated to providing high quality online courses to help individuals learn and grow in their desired fields. Our experienced instruction ensures that each course is tailored for effective learning and practical application.
        </p></center>

        <h1>Trending Courses</h1>
        <div class="course-cards">
            {% for course in trending_courses %}
            <div class="card">
                <img src="{{ course.thumbnail.url }}" alt="{{ course.name }}">
                <h2>{{ course.name }}</h2>
                <p class="price">â‚¹{{ course.get_final_price|floatformat:2 }} <span class="discount">{{ course.discount }}% off</span></p>
                <div class="card-buttons">
                    <form method="POST" action="{% url 'enroll_course' course.id %}">
                        {% csrf_token %}
                        <button type="submit" class="btn-enroll">Enroll Now</button>
                    </form>
                    <a href="{% url 'course_detail' course.id %}" class="btn-see-more">See More</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <h3>Your Profile</h3>
            <p><strong>Name:</strong> {{ request.session.name }}</p>
            <p><strong>Email:</strong> {{ request.session.email }}</p>
            <p><strong>Phone:</strong> {{ request.session.phone }}</p>
            <button class="close-btn" id="closeProfileBtn">Close</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Follow Us</h4>
                <ul class="social-media">
                    <li><a href="#"><img src="{% static 'icons/facebook.png' %}" alt="Facebook"></a></li>
                    <li><a href="#"><img src="{% static 'icons/x.png' %}" alt="x"></a></li>
                    <li><a href="#"><img src="{% static 'icons/instagram.png' %}" alt="Instagram"></a></li>
                    <li><a href="#"><img src="{% static 'icons/linkedin.png' %}" alt="LinkedIn"></a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact Us</h4>
                <p>Email: support@elearningapp.com</p>
                <p>Phone: +123 456 7890</p>
                <p>Address: 123 eLearning St, Learning City</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 eLearning App. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Show profile modal
        document.getElementById('seeProfileBtn').onclick = function() {
            document.getElementById('profileModal').style.display = 'flex';
        };

        // Close profile modal
        document.getElementById('closeProfileBtn').onclick = function() {
            document.getElementById('profileModal').style.display = 'none';
        };

        // Close modal when clicking outside of the modal content
        window.onclick = function(event) {
            if (event.target == document.getElementById('profileModal')) {
                document.getElementById('profileModal').style.display = 'none';
            }
        };
    </script>


</body>
</html>
